<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<title>家长</title>
<link rel="stylesheet" href="/css/index.css" type="text/css">
<script type="text/javascript" src="/js/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="/js/jquery.SuperSlide.2.1.3.js"></script>
</head>
<body>
   <div class="topbanner"><img src="/img/banner.png" alt=""></div>
   <div class="main renwuBox">
   		<div class="hd" id="hd">


   		</div>
   		<div class="bd" id="bd">

   		</div>
   </div>
</body>
</html>
<script type="text/javascript" th:inline="javascript">
   var url = 'http://eyemonitor-api.dddmaker.com'
	var idCard = [[${idCard}]]
	console.log(idCard,'idCard')

    $(function () {
       initTask();
       setInterval("loadslide()", 1000);
    })
    function loadslide(){
       jQuery(".renwuBox").slide({trigger:"click"});
    }

    function initTask() {
       $.ajax({
          type:'get',
          url:url+'/api/gift/listPcJiazhang',
          async : false,
          dataType : "jsonp",
          jsonp:"callback",
          success : function(data) {
             console.log(data.data,"data")
             result = data.data
             var html = ''
			 var html11 =''
             html+='<ul>'
             for(var i= 0;i<result.length;i++){
                html+='<li><input type="hidden" value="'+result[i].id+'"><img src="'+result[i].coverImg+'" alt=""/><p>'+result[i].giftName+'</p></li>'

				html11+='<div class="txt">';
                html11+= '<p>任务时间：<span>'+result[i].giftPc.taskTime+'天</span></p>'
                html11+= '<p>平均评级：<span>优秀等级</span></p>'
                html11+=  '   <dl>'
                html11+=  '   <dt>任务详情：</dt>'
                html11+=  '   <dd>'
                html11+=  '<ul>'
                html11+=  '<li><em>时长</em><span>'+result[i].giftPc.taskTime+'天</span></li>'

				if(result[i].giftPc.eyeRate ==1){
                   html11+=  '<li><em>健康用眼评级：</em><span>优秀</span></li>'
				}else if(result[i].giftPc.eyeRate ==2){
                   html11+=  '<li><em>健康用眼评级：</em><span>良好</span></li>'
				}else if(result[i].giftPc.eyeRate ==3){
                   html11+=  '<li><em>健康用眼评级：</em><span>差</span></li>'
                }else if(result[i].giftPc.eyeRate ==4){
                   html11+=  '<li><em>健康用眼评级：</em><span>极差</span></li>'
                }else{
                   html11+=  '<li><em>健康用眼评级：</em><span></span></li>'
				}

                if(result[i].giftPc.avgRead ==1){
                   html11+=  '<li><em>平均单次阅读时长：</em><span>优秀</span></li>'
                }else if(result[i].giftPc.avgRead ==2){
                   html11+=  '<li><em>平均单次阅读时长：</em><span>良好</span></li>'
                }else if(result[i].giftPc.avgRead ==3){
                   html11+=  '<li><em>平均单次阅读时长：</em><span>差</span></li>'
                }else if(result[i].giftPc.avgRead ==4){
                   html11+=  '<li><em>平均单次阅读时长：</em><span>极差</span></li>'
                }else{
                   html11+=  '<li><em>平均单次阅读时长：</em><span></span></li>'
                }

                if(result[i].giftPc.avgOut ==1){
                   html11+=  '<li><em>平均户外时长：</em><span>优秀</span></li>'
                }else if(result[i].giftPc.avgOut ==2){
                   html11+=  '<li><em>平均户外时长：</em><span>良好</span></li>'
                }else if(result[i].giftPc.avgOut ==3){
                   html11+=  '<li><em>平均户外时长：</em><span>差</span></li>'
                }else if(result[i].giftPc.avgOut ==4){
                   html11+=  '<li><em>平均户外时长：</em><span>极差</span></li>'
                }else{
                   html11+=  '<li><em>平均户外时长：</em><span></span></li>'
                }

                if(result[i].giftPc.avgReadDistance ==1){
                   html11+=  '<li><em>平均阅读距离：</em><span>优秀</span></li>'
                }else if(result[i].giftPc.avgReadDistance ==2){
                   html11+=  '<li><em>平均阅读距离：</em><span>良好</span></li>'
                }else if(result[i].giftPc.avgReadDistance ==3){
                   html11+=  '<li><em>平均阅读距离：</em><span>差</span></li>'
                }else if(result[i].giftPc.avgReadDistance ==4){
                   html11+=  '<li><em>平均阅读距离：</em><span>极差</span></li>'
                }else{
                   html11+=  '<li><em>平均阅读距离：</em><span></span></li>'
                }

                if(result[i].giftPc.avgLight ==1){
                   html11+=  '<li><em>平均阅读光照：</em><span>优秀</span></li>'
                }else if(result[i].giftPc.avgLight ==2){
                   html11+=  '<li><em>平均阅读光照：</em><span>良好</span></li>'
                }else if(result[i].giftPc.avgLight ==3){
                   html11+=  '<li><em>平均阅读光照：</em><span>差</span></li>'
                }else if(result[i].giftPc.avgLight ==4){
                   html11+=  '<li><em>平均阅读光照：</em><span>极差</span></li>'
                }else{
                   html11+=  '<li><em>平均阅读光照：</em><span></span></li>'
                }

                if(result[i].giftPc.avgLookPhone ==1){
                   html11+=  '<li><em>平均单次看手机时长：</em><span>优秀</span></li>'
                }else if(result[i].giftPc.avgLookPhone ==2){
                   html11+=  '<li><em>平均单次看手机时长：</em><span>良好</span></li>'
                }else if(result[i].giftPc.avgLookPhone ==3){
                   html11+=  '<li><em>平均单次看手机时长：</em><span>差</span></li>'
                }else if(result[i].giftPc.avgLookPhone ==4){
                   html11+=  '<li><em>平均单次看手机时长：</em><span>极差</span></li>'
                }else{
                   html11+=  '<li><em>平均单次看手机时长：</em><span></span></li>'
                }

                if(result[i].giftPc.avgLookTv ==1){
                   html11+=  '<li><em>平均单次看电脑电视时长：</em><span>优秀</span></li>'
                }else if(result[i].giftPc.avgLookTv ==2){
                   html11+=  '<li><em>平均单次看电脑电视时长：</em><span>良好</span></li>'
                }else if(result[i].giftPc.avgLookTv ==3){
                   html11+=  '<li><em>平均单次看电脑电视时长：</em><span>差</span></li>'
                }else if(result[i].giftPc.avgLookTv ==4){
                   html11+=  '<li><em>平均单次看电脑电视时长：</em><span>极差</span></li>'
                }else{
                   html11+=  '<li><em>平均单次看电脑电视时长：</em><span></span></li>'
                }

                if(result[i].giftPc.avgSitTilt ==1){
                   html11+=  '<li><em>平均坐姿倾斜度：</em><span>优秀</span></li>'
                }else if(result[i].giftPc.avgSitTilt ==2){
                   html11+=  '<li><em>平均坐姿倾斜度：</em><span>良好</span></li>'
                }else if(result[i].giftPc.avgSitTilt ==3){
                   html11+=  '<li><em>平均坐姿倾斜度：</em><span>差</span></li>'
                }else if(result[i].giftPc.avgSitTilt ==4){
                   html11+=  '<li><em>平均坐姿倾斜度：</em><span>极差</span></li>'
                }else{
                   html11+=  '<li><em>平均坐姿倾斜度：</em><span></span></li>'
                }

                if(result[i].giftPc.effectiveUseTime ==1){
                   html11+=  '<li><em>有效使用监护仪总时长：</em><span>优秀</span></li>'
                }else if(result[i].giftPc.effectiveUseTime ==2){
                   html11+=  '<li><em>有效使用监护仪总时长：</em><span>良好</span></li>'
                }else if(result[i].giftPc.effectiveUseTime ==3){
                   html11+=  '<li><em>有效使用监护仪总时长：</em><span>差</span></li>'
                }else if(result[i].giftPc.effectiveUseTime ==4){
                   html11+=  '<li><em>有效使用监护仪总时长：</em><span>极差</span></li>'
                }else{
                   html11+=  '<li><em>有效使用监护仪总时长：</em><span></span></li>'
                }
                html11+=   '</ul>'
                html11+=   '  </dd>'
                html11+=   '   </dl>'
                html11+=   '   <input type="button" value="我要挑战" onclick="save()">'
                html11+=  '   </div>'
             }
             html+='</ul>'
			 html+='<input onclick="zidingyi()" type="button" class="zidingyi" value="自定义任务">'
             $('#hd').html(html)

			 $('#bd').html(html11)

          },
          error : function() {
             alert('fail');
          }
       })
    }

    function save() {
       var giftId = $("#hd ul").find(".on").children("input").val()
       alert("请求中，请稍等..")
       $.ajax({
          cache: true,
          type: "get",
          url: url+"/api/gift/addTaskPcByJz?idCard="+idCard+"&giftId="+giftId,
          dataType : "jsonp",
          jsonp:"callback",
          async: false,
          success: function (data) {
             alert(data.msg)
          },
          error: function (request) {
             alert("Connection error");
          },
       });

    }

    function zidingyi() {
       var giftId = $("#hd ul").find(".on").children("input").val()
       window.location.href="/skip/Newzidingyi?idCard="+idCard+"&giftId="+giftId
    }
</script>


